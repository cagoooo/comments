import{c as m,r as u,j as e,G as E,X as w,l as A}from"./index-CBp3GSCB.js";import{F as C}from"./file-text-B2FDNG5L.js";/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=m("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=m("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),T=({isOpen:h,onClose:b,students:a,currentClassName:g="å…¨éƒ¨å­¸ç”Ÿ"})=>{const s=u.useMemo(()=>{const l=a.length,i=t=>!(!(t!=null&&t.trim())||t.trim().startsWith("âŒ")),n=t=>{var r;return((r=t==null?void 0:t.trim())==null?void 0:r.startsWith("âŒ"))||!1},o=a.filter(t=>i(t.comment)).length,p=a.filter(t=>n(t.comment)).length,f=l>0?Math.round(o/l*100):0,d=a.filter(t=>i(t.comment)).map(t=>t.comment.length),x=d.reduce((t,r)=>t+r,0),j=d.length>0?Math.round(x/d.length):0,N=Math.max(0,...d),v=d.length>0?Math.min(...d):0,c={};a.forEach(t=>{(t.selectedTags||[]).forEach(r=>{c[r]=(c[r]||0)+1})});const D=Object.entries(c).sort((t,r)=>r[1]-t[1]).slice(0,10),F=a.filter(t=>!i(t.comment));return{total:l,withComment:o,withError:p,completionRate:f,avgLength:j,maxLength:N,minLength:v,totalChars:x,topTags:D,pending:F}},[a]);return h?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm p-2 sm:p-4",children:e.jsxs("div",{className:"card-pop w-full max-w-3xl max-h-[90vh] flex flex-col animate-in bg-[#FFF9E6]",children:[e.jsxs("div",{className:"p-3 sm:p-5 bg-gradient-to-r from-[#A29BFE] to-[#6C5CE7] border-b-3 border-[#2D3436] flex items-center justify-between",children:[e.jsxs("h3",{className:"font-black text-white flex items-center gap-2 text-lg sm:text-xl",children:[e.jsx(E,{size:24}),"ç­ç´šçµ±è¨ˆå„€è¡¨æ¿"]}),e.jsx("button",{onClick:b,className:"btn-pop p-2 bg-white text-[#2D3436]",children:e.jsx(w,{size:20})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6 space-y-4",children:[e.jsx("div",{className:"text-center",children:e.jsxs("span",{className:"inline-block px-4 py-1 bg-[#2D3436] text-white font-bold rounded-full text-sm",children:["ğŸ“š ",g]})}),e.jsxs("div",{className:"bg-white border-2 border-[#2D3436] rounded-lg p-4",children:[e.jsxs("h4",{className:"font-bold text-[#2D3436] mb-3 flex items-center gap-2",children:[e.jsx(k,{size:18,className:"text-[#1DD1A1]"}),"è©•èªå®Œæˆé€²åº¦"]}),e.jsxs("div",{className:"relative h-8 bg-[#E8DCC8] border-2 border-[#2D3436] rounded-full overflow-hidden mb-3",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 bg-gradient-to-r from-[#1DD1A1] to-[#00B894] transition-all duration-500",style:{width:`${s.completionRate}%`}}),e.jsxs("div",{className:"absolute inset-0 flex items-center justify-center font-black text-[#2D3436]",children:[s.completionRate,"%"]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center",children:[e.jsxs("div",{className:"p-2 sm:p-3 bg-[#1DD1A1]/20 border-2 border-[#1DD1A1] rounded-lg",children:[e.jsx("div",{className:"text-xl sm:text-2xl font-black text-[#1DD1A1]",children:s.withComment}),e.jsx("div",{className:"text-xs font-bold text-[#2D3436]",children:"å·²å®Œæˆ"})]}),e.jsxs("div",{className:"p-2 sm:p-3 bg-[#FECA57]/20 border-2 border-[#FECA57] rounded-lg",children:[e.jsx("div",{className:"text-xl sm:text-2xl font-black text-[#F39C12]",children:s.total-s.withComment-s.withError}),e.jsx("div",{className:"text-xs font-bold text-[#2D3436]",children:"å¾…æ’°å¯«"})]}),e.jsxs("div",{className:"p-2 sm:p-3 bg-[#FF6B6B]/20 border-2 border-[#FF6B6B] rounded-lg",children:[e.jsx("div",{className:"text-xl sm:text-2xl font-black text-[#FF6B6B]",children:s.withError}),e.jsx("div",{className:"text-xs font-bold text-[#2D3436]",children:"ç”Ÿæˆå¤±æ•—"})]}),e.jsxs("div",{className:"p-2 sm:p-3 bg-[#54A0FF]/20 border-2 border-[#54A0FF] rounded-lg",children:[e.jsx("div",{className:"text-xl sm:text-2xl font-black text-[#54A0FF]",children:s.total}),e.jsx("div",{className:"text-xs font-bold text-[#2D3436]",children:"ç¸½äººæ•¸"})]})]})]}),e.jsxs("div",{className:"bg-white border-2 border-[#2D3436] rounded-lg p-4",children:[e.jsxs("h4",{className:"font-bold text-[#2D3436] mb-3 flex items-center gap-2",children:[e.jsx(C,{size:18,className:"text-[#54A0FF]"}),"å­—æ•¸çµ±è¨ˆ"]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3 text-center",children:[e.jsxs("div",{className:"p-3 bg-[#FECA57]/30 border-2 border-[#FECA57] rounded-lg",children:[e.jsx("div",{className:"text-xl font-black text-[#F39C12]",children:s.avgLength}),e.jsx("div",{className:"text-xs font-bold text-[#2D3436]",children:"å¹³å‡å­—æ•¸"})]}),e.jsxs("div",{className:"p-3 bg-[#A29BFE]/20 border-2 border-[#A29BFE] rounded-lg",children:[e.jsx("div",{className:"text-xl font-black text-[#6C5CE7]",children:s.maxLength}),e.jsx("div",{className:"text-xs font-bold text-[#2D3436]",children:"æœ€å¤šå­—æ•¸"})]}),e.jsxs("div",{className:"p-3 bg-[#FF6B9D]/20 border-2 border-[#FF6B9D] rounded-lg",children:[e.jsx("div",{className:"text-xl font-black text-[#FF6B9D]",children:s.minLength}),e.jsx("div",{className:"text-xs font-bold text-[#2D3436]",children:"æœ€å°‘å­—æ•¸"})]}),e.jsxs("div",{className:"p-3 bg-[#1DD1A1]/20 border-2 border-[#1DD1A1] rounded-lg",children:[e.jsx("div",{className:"text-xl font-black text-[#1DD1A1]",children:s.totalChars}),e.jsx("div",{className:"text-xs font-bold text-[#2D3436]",children:"ç¸½å­—æ•¸"})]})]})]}),s.topTags.length>0&&e.jsxs("div",{className:"bg-white border-2 border-[#2D3436] rounded-lg p-4",children:[e.jsxs("h4",{className:"font-bold text-[#2D3436] mb-3 flex items-center gap-2",children:[e.jsx(B,{size:18,className:"text-[#FECA57]"}),"ç†±é–€ç‰¹è³ª TOP 10"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.topTags.map(([l,i],n)=>e.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-bold border-2 border-[#2D3436]
                                            ${n===0?"bg-[#FECA57] text-[#2D3436]":n===1?"bg-[#E8E8E8] text-[#2D3436]":n===2?"bg-[#DEB887] text-[#2D3436]":"bg-white text-[#636E72]"}`,children:[n<3&&["ğŸ¥‡","ğŸ¥ˆ","ğŸ¥‰"][n]," ",l,e.jsxs("span",{className:"ml-1 text-xs opacity-70",children:["(",i,")"]})]},l))})]}),s.pending.length>0&&e.jsxs("div",{className:"bg-[#FF6B6B]/10 border-2 border-[#FF6B6B] rounded-lg p-4",children:[e.jsxs("h4",{className:"font-bold text-[#FF6B6B] mb-3 flex items-center gap-2",children:[e.jsx(A,{size:18}),"å¾…å®Œæˆå­¸ç”Ÿ (",s.pending.length,"äºº)"]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.pending.slice(0,20).map(l=>e.jsxs("span",{className:"px-2 py-1 bg-white border border-[#FF6B6B] rounded text-sm text-[#FF6B6B]",children:[l.number&&`${l.number}è™Ÿ `,l.name]},l.id)),s.pending.length>20&&e.jsxs("span",{className:"px-2 py-1 text-sm text-[#636E72]",children:["...é‚„æœ‰ ",s.pending.length-20," äºº"]})]})]}),s.completionRate===100&&e.jsxs("div",{className:"bg-[#1DD1A1]/20 border-2 border-[#1DD1A1] rounded-lg p-6 text-center",children:[e.jsx("div",{className:"text-4xl mb-2",children:"ğŸ‰"}),e.jsx("h4",{className:"font-black text-[#1DD1A1] text-lg",children:"æ­å–œï¼å…¨éƒ¨å®Œæˆï¼"}),e.jsxs("p",{className:"text-[#2D3436] text-sm mt-1",children:["å·²å®Œæˆ ",s.total," ä½å­¸ç”Ÿçš„è©•èªæ’°å¯«"]})]})]})]})}):null};export{T as default};
