import{c as i,r as c,t as n,j as e,H as f,X as g,T as u}from"./index-CjNFU7lt.js";/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y=i("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=i("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),w=({isOpen:a,onClose:l,onApplyTemplate:d})=>{const[r,o]=c.useState([]),[h,x]=c.useState(!0);c.useEffect(()=>{if(!a)return;x(!0);const s=n.subscribe(t=>{o(t),x(!1)});return()=>s()},[a]);const p=async s=>{try{await n.delete(s)}catch(t){console.error("åˆªé™¤ç¯„æœ¬å¤±æ•—:",t)}},b=async s=>{try{await n.incrementUsage(s.id),d(s.content),l()}catch(t){console.error("å¥—ç”¨ç¯„æœ¬å¤±æ•—:",t)}},m=async s=>{try{await navigator.clipboard.writeText(s)}catch(t){console.error("è¤‡è£½å¤±æ•—:",t)}};return a?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 backdrop-blur-sm p-2 sm:p-4",children:e.jsxs("div",{className:"card-pop w-full max-w-2xl max-h-[90vh] flex flex-col animate-in bg-[#FFF9E6]",children:[e.jsxs("div",{className:"p-3 sm:p-5 bg-[#FF6B9D] border-b-3 border-[#2D3436] flex items-center justify-between",children:[e.jsxs("h3",{className:"font-black text-white flex items-center gap-2 text-lg sm:text-xl",children:[e.jsx(f,{size:24}),"æˆ‘çš„è©•èªç¯„æœ¬åº«"]}),e.jsx("button",{onClick:l,className:"btn-pop p-2 bg-white text-[#2D3436]",children:e.jsx(g,{size:20})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-3 sm:p-4 mobile-scroll-hide",children:h?e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsx("div",{className:"text-4xl animate-bounce",children:"ğŸ"})}):r.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"text-5xl mb-4",children:"ğŸ“š"}),e.jsx("p",{className:"text-lg font-bold text-[#636E72]",children:"é‚„æ²’æœ‰æ”¶è—çš„ç¯„æœ¬"}),e.jsx("p",{className:"text-sm text-[#636E72]/70 mt-2",children:"åœ¨å­¸ç”Ÿè©•èªæ—é»æ“Š â¤ï¸ æ”¶è— å³å¯åŠ å…¥ç¯„æœ¬åº«"})]}):e.jsx("div",{className:"space-y-4",children:r.map(s=>e.jsxs("div",{className:"bg-white border-2 border-[#2D3436] rounded-lg overflow-hidden shadow-[3px_3px_0_#2D3436]",children:[e.jsxs("div",{className:"p-3 bg-[#FECA57] border-b-2 border-[#2D3436] flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-bold text-[#2D3436]",children:s.studentName||"æœªå‘½å"}),s.tags&&s.tags.length>0&&e.jsxs("div",{className:"flex gap-1 flex-wrap",children:[s.tags.slice(0,3).map((t,j)=>e.jsx("span",{className:"px-2 py-0.5 bg-white text-[#2D3436] text-xs rounded-full border border-[#2D3436]",children:t},j)),s.tags.length>3&&e.jsxs("span",{className:"text-xs text-[#2D3436]",children:["+",s.tags.length-3]})]})]}),e.jsxs("span",{className:"text-xs text-[#2D3436]/70",children:["ä½¿ç”¨ ",s.usageCount||0," æ¬¡"]})]}),e.jsx("div",{className:"p-3 text-sm text-[#2D3436] leading-relaxed max-h-[120px] overflow-y-auto",children:s.content}),e.jsxs("div",{className:"p-2 bg-[#FFF9E6] border-t border-dashed border-[#E8DCC8] flex items-center justify-end gap-2",children:[e.jsxs("button",{onClick:()=>m(s.content),className:"btn-pop px-3 py-1.5 bg-white text-[#2D3436] text-xs font-bold flex items-center gap-1",children:[e.jsx(N,{size:12}),"è¤‡è£½"]}),e.jsxs("button",{onClick:()=>b(s),className:"btn-pop px-3 py-1.5 bg-[#1DD1A1] text-white text-xs font-bold flex items-center gap-1",children:[e.jsx(y,{size:12}),"å¥—ç”¨"]}),e.jsxs("button",{onClick:()=>p(s.id),className:"btn-pop px-3 py-1.5 bg-[#FF6B6B] text-white text-xs font-bold flex items-center gap-1",children:[e.jsx(u,{size:12}),"åˆªé™¤"]})]})]},s.id))})}),e.jsxs("div",{className:"p-3 sm:p-4 bg-[#E8DCC8] border-t-2 border-dashed border-[#2D3436]/20 text-xs text-[#636E72] text-center",children:["å…± ",r.length," å€‹ç¯„æœ¬ | ç¯„æœ¬å„²å­˜åœ¨é›²ç«¯ï¼Œè·¨è£ç½®åŒæ­¥"]})]})}):null};export{w as default};
